@{
    ViewData["Title"] = "Dashboard";
    var usersCount = ViewData["UsersCount"];
    var productsCount = ViewData["ProductsCount"];
    var ordersCount = ViewData["OrdersCount"];
    var recentOrders = ViewData["RecentOrders"] as List<NetIdentity.Models.Order>;
}
<h2>Dashboard</h2>

<ul>
    <li>Usuarios registrados: @usersCount</li>
    <li>Productos: @productsCount</li>
    <li>Pedidos: @ordersCount</li>
</ul>

<h3>Pedidos recientes</h3>
@if (recentOrders != null && recentOrders.Any())
{
    <table>
        <thead><tr><th>Id</th><th>Usuario</th><th>Fecha</th><th>Total</th></tr></thead>
        <tbody>
            @foreach(var o in recentOrders)
            {
                <tr>
                    <td>@o.Id</td>
                    <td>@o.UserId</td>
                    <td>@o.CreatedAt.ToLocalTime()</td>
                    <td>@o.Total</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No hay pedidos recientes.</p>
}
